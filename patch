diff --git a/crawl-ref/source/contrib/sdl2-image b/crawl-ref/source/contrib/sdl2-image
--- a/crawl-ref/source/contrib/sdl2-image
+++ b/crawl-ref/source/contrib/sdl2-image
@@ -1 +1 @@
-Subproject commit 9d03f5e3ef23d6e997a3918ff70230fafed068e3
+Subproject commit 9d03f5e3ef23d6e997a3918ff70230fafed068e3-dirty
diff --git a/crawl-ref/source/view.cc b/crawl-ref/source/view.cc
index 03f5d4b..7ae7eef 100644
--- a/crawl-ref/source/view.cc
+++ b/crawl-ref/source/view.cc
@@ -2,6 +2,9 @@
  * @file
  * @brief Misc function used to render the dungeon.
 **/
+#include <iostream>
+#include <fstream>
+using namespace std;
 
 #include "AppHdr.h"
 
@@ -1357,13 +1360,15 @@ void viewwindow(bool show_updates, bool tiles_only, animation *a)
 
     const coord_def tl = coord_def(1, 1);
     const coord_def br = crawl_view.viewsz;
+    char dis[100][100];
     for (rectangle_iterator ri(tl, br); ri; ++ri)
     {
         // in grid coords
         const coord_def gc = a
             ? a->cell_cb(view2grid(*ri), flash_colour)
             : view2grid(*ri);
-
+        
+        dis[gc.y][gc.x] = cell->glyph;
         if (you.flash_where && you.flash_where->is_affected(gc) <= 0)
             draw_cell(cell, gc, anim_updates, 0);
         else
@@ -1371,6 +1376,17 @@ void viewwindow(bool show_updates, bool tiles_only, animation *a)
 
         cell++;
     }
+    
+    ofstream myfile;
+    myfile.open ("/home/rdunk/crawl.txt");
+    for(int y = 0;y<br.y;y++){
+        for(int x = 0;x<br.x;x++){
+            myfile << dis[y][x];
+        }
+        myfile << "\n";
+    }
+    myfile.close();
+
 
     you.last_view_update = you.num_turns;
 #ifndef USE_TILE_LOCAL
